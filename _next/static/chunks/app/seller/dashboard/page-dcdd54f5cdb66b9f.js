(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[414],{15726:function(e,t,s){Promise.resolve().then(s.bind(s,97619))},39763:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});var r=s(2265),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),n=(e,t)=>{let s=(0,r.forwardRef)((s,n)=>{let{color:i="currentColor",size:d=24,strokeWidth:c=2,absoluteStrokeWidth:o,className:m="",children:u,...x}=s;return(0,r.createElement)("svg",{ref:n,...a,width:d,height:d,stroke:i,strokeWidth:o?24*Number(c)/Number(d):c,className:["lucide","lucide-".concat(l(e)),m].join(" "),...x},[...t.map(e=>{let[t,s]=e;return(0,r.createElement)(t,s)}),...Array.isArray(u)?u:[u]])});return s.displayName="".concat(e),s}},44794:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(39763).Z)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])},98728:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(39763).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},32489:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(39763).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},97619:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return x}});var r=s(57437),a=s(2265),l=s(71837),n=s(98728),i=s(44794),d=s(39763);let c=(0,d.Z)("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]),o=(0,d.Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);var m=s(32489);function u(e){let{isOpen:t,onClose:s,onSuccess:n}=e,[i,d]=(0,a.useState)({name:"",description:"",price:"",quantity:"",category:"",images:[]}),[c,o]=(0,a.useState)(!1),[u,x]=(0,a.useState)(""),h=async e=>{e.preventDefault(),o(!0),x("");try{let e=new FormData;e.append("name",i.name),e.append("description",i.description),e.append("price",i.price),e.append("quantity",i.quantity),e.append("category",i.category),i.images.forEach(t=>{e.append("images",t)}),await l.h.post("/products",e,{headers:{"Content-Type":"multipart/form-data"}}),n(),s()}catch(e){var t,r;x((null===(r=e.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.message)||"Ошибка при добавлении товара")}finally{o(!1)}};return t?(0,r.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg max-w-2xl w-full",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center p-6 border-b",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Добавить товар"}),(0,r.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-gray-500",children:(0,r.jsx)(m.Z,{className:"h-6 w-6"})})]}),(0,r.jsxs)("form",{onSubmit:h,className:"p-6 space-y-6",children:[u&&(0,r.jsx)("div",{className:"p-4 text-red-700 bg-red-100 rounded-md",children:u}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Название товара"}),(0,r.jsx)("input",{type:"text",id:"name",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",value:i.name,onChange:e=>d({...i,name:e.target.value})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Описание"}),(0,r.jsx)("textarea",{id:"description",rows:4,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",value:i.description,onChange:e=>d({...i,description:e.target.value})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700",children:"Цена"}),(0,r.jsx)("input",{type:"number",id:"price",required:!0,min:"0",step:"0.01",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",value:i.price,onChange:e=>d({...i,price:e.target.value})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"quantity",className:"block text-sm font-medium text-gray-700",children:"Количество"}),(0,r.jsx)("input",{type:"number",id:"quantity",required:!0,min:"0",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",value:i.quantity,onChange:e=>d({...i,quantity:e.target.value})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:"Категория"}),(0,r.jsxs)("select",{id:"category",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",value:i.category,onChange:e=>d({...i,category:e.target.value}),children:[(0,r.jsx)("option",{value:"",children:"Выберите категорию"}),(0,r.jsx)("option",{value:"electronics",children:"Электроника"}),(0,r.jsx)("option",{value:"accessories",children:"Аксессуары"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Фотографии"}),(0,r.jsx)("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:(0,r.jsxs)("div",{className:"space-y-1 text-center",children:[(0,r.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:(0,r.jsx)("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),(0,r.jsxs)("div",{className:"flex text-sm text-gray-600",children:[(0,r.jsxs)("label",{htmlFor:"images",className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500",children:[(0,r.jsx)("span",{children:"Загрузить файлы"}),(0,r.jsx)("input",{id:"images",type:"file",multiple:!0,accept:"image/*",className:"sr-only",onChange:e=>{e.target.files&&d({...i,images:Array.from(e.target.files)})}})]}),(0,r.jsx)("p",{className:"pl-1",children:"или перетащите"})]}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF до 10MB"})]})})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,r.jsx)("button",{type:"button",onClick:s,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Отмена"}),(0,r.jsx)("button",{type:"submit",disabled:c,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:c?"Сохранение...":"Сохранить"})]})]})]})}):null}function x(){let[e,t]=(0,a.useState)("products"),[s,d]=(0,a.useState)(!1),[m,x]=(0,a.useState)(""),[h,p]=(0,a.useState)(!1),g=async e=>{var t,s,r;let a=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!a)return;let n=new FormData;n.append("file",a),d(!0),x("");try{await l.h.post("/products/upload-excel",n,{headers:{"Content-Type":"multipart/form-data"}})}catch(e){x((null===(r=e.response)||void 0===r?void 0:null===(s=r.data)||void 0===s?void 0:s.message)||"Ошибка при загрузке файла")}finally{d(!1)}};return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsxs)("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:[(0,r.jsx)("div",{className:"bg-white shadow",children:(0,r.jsx)("div",{className:"px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Личный кабинет продавца"})}),(0,r.jsx)("div",{className:"flex items-center space-x-4",children:(0,r.jsx)("button",{className:"text-gray-500 hover:text-gray-700",children:(0,r.jsx)(n.Z,{className:"h-6 w-6"})})})]})})}),(0,r.jsx)("div",{className:"mt-6",children:(0,r.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(0,r.jsx)("div",{className:"border-b border-gray-200",children:(0,r.jsxs)("nav",{className:"-mb-px flex",children:[(0,r.jsxs)("button",{onClick:()=>t("products"),className:"".concat("products"===e?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"," whitespace-nowrap py-4 px-6 border-b-2 font-medium text-sm flex items-center"),children:[(0,r.jsx)(i.Z,{className:"h-5 w-5 mr-2"}),"Товары"]}),(0,r.jsxs)("button",{onClick:()=>t("analytics"),className:"".concat("analytics"===e?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"," whitespace-nowrap py-4 px-6 border-b-2 font-medium text-sm flex items-center"),children:[(0,r.jsx)(c,{className:"h-5 w-5 mr-2"}),"Аналитика"]})]})}),(0,r.jsxs)("div",{className:"p-6",children:["products"===e&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"Управление товарами"}),(0,r.jsxs)("div",{className:"mt-4 flex space-x-4",children:[(0,r.jsxs)("button",{onClick:()=>{var e;return null===(e=document.getElementById("excel-upload"))||void 0===e?void 0:e.click()},className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,r.jsx)(o,{className:"h-5 w-5 mr-2"}),"Загрузить Excel"]}),(0,r.jsx)("input",{id:"excel-upload",type:"file",accept:".xlsx,.xls",className:"hidden",onChange:g}),(0,r.jsxs)("button",{onClick:()=>p(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[(0,r.jsx)(i.Z,{className:"h-5 w-5 mr-2"}),"Добавить товар"]})]})]}),m&&(0,r.jsx)("div",{className:"mb-4 p-4 text-red-700 bg-red-100 rounded-md",children:m}),(0,r.jsx)("div",{className:"mt-6",children:(0,r.jsx)("div",{className:"flex flex-col",children:(0,r.jsx)("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:(0,r.jsx)("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:(0,r.jsx)("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Название"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Цена"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Остаток"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Статус"}),(0,r.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Действия"})]})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200"})]})})})})})})]}),"analytics"===e&&(0,r.jsx)("div",{children:(0,r.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"Аналитика продаж"})})]})]})})]}),(0,r.jsx)(u,{isOpen:h,onClose:()=>p(!1),onSuccess:()=>{p(!1)}})]})}},71837:function(e,t,s){"use strict";s.d(t,{h:function(){return r}});let r=s(83464).Z.create({baseURL:"http://localhost:3001",headers:{"Content-Type":"application/json"}});r.interceptors.request.use(e=>{let t=localStorage.getItem("token");return t&&e.headers&&(e.headers.Authorization="Bearer ".concat(t)),e}),r.interceptors.response.use(e=>e,e=>{var t;return(null===(t=e.response)||void 0===t?void 0:t.status)===401&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e)})}},function(e){e.O(0,[464,971,117,560],function(){return e(e.s=15726)}),_N_E=e.O()}]);