(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[507],{45883:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sellers/[sellerId]/products",function(){return r(20945)}])},20945:function(e,s,r){"use strict";r.r(s);var c=r(85893),n=r(59583),t=r(67294),l=r(87066),d=r(41664),i=r.n(d);s.default=()=>{let{sellerId:e}=(0,n.useRouter)().query,[s,r]=(0,t.useState)([]),[d,a]=(0,t.useState)(""),[h,u]=(0,t.useState)(!0);return((0,t.useEffect)(()=>{(async()=>{if(e)try{let s=await l.Z.get("http://localhost:3002/products/seller/".concat(e));200===s.status?(r(s.data),a("Товары успешно получены!")):a(s.data.message||"Ошибка при получении товаров.")}catch(e){console.error("Ошибка сети или сервера:",e),a("Произошла ошибка при подключении к серверу. Пожалуйста, попробуйте еще раз.")}finally{u(!1)}})()},[e]),h)?(0,c.jsx)("div",{children:"Loading products..."}):(0,c.jsxs)("div",{className:"container",children:[(0,c.jsxs)("h1",{children:["Товары Продавца ",e]}),d&&(0,c.jsx)("p",{children:d}),0===s.length?(0,c.jsxs)("p",{children:["У вас пока нет товаров. ",(0,c.jsx)(i(),{href:"/sellers/add-product",children:"Добавить новый товар"})]}):(0,c.jsx)("ul",{children:s.map(e=>(0,c.jsxs)("li",{children:[(0,c.jsx)("h3",{children:e.name}),(0,c.jsxs)("p",{children:["ID: ",e.id]}),(0,c.jsxs)("p",{children:["Описание: ",e.description]}),(0,c.jsxs)("p",{children:["Цена: ",e.price," руб."]}),(0,c.jsxs)("p",{children:["На складе: ",e.stock," шт."]}),(0,c.jsxs)("p",{children:["Добавлен: ",new Date(e.created_at).toLocaleString()]}),(0,c.jsx)(i(),{href:"/sellers/edit-product/".concat(e.id),children:"Редактировать"})]},e.id))}),(0,c.jsx)("p",{children:(0,c.jsx)(i(),{href:"/sellers/add-product",children:"Добавить новый товар"})}),(0,c.jsx)("p",{children:(0,c.jsx)(i(),{href:"/",children:"Вернуться на главную"})})]})}}},function(e){e.O(0,[396,66,888,774,179],function(){return e(e.s=45883)}),_N_E=e.O()}]);